<!-- Top Section -->
<div class="header-top">
  <div class="dashboard-title">
    <p>{{pageTitle}}</p>

    <div *ngIf="isSubMenu" class="d-flex">
      <mat-icon>chevron_right</mat-icon>
      <span class="header-title" style="font-weight:700;">
        {{subMenuTitle}}
      </span>
    </div>


    <mat-icon *ngIf="isProductHub">chevron_right</mat-icon>
    <span class="header-title" style="font-weight:700;" *ngIf="isProductHub">
      Product Hub
    </span>
  </div>
  <div class="header-icons">
    <!-- Search Bar -->
    <!-- <div class="search-bar">
      <input type="text" placeholder="Search..." />
      <mat-icon>search</mat-icon>
    </div> -->
    <!-- Notification Icon -->
    <div class="user_profile">
      <img src="images/notification.png" class="notification_icon">
      <img src="images/user_profile.png">
    </div>
  </div>
</div>

<!-- Bottom Section -->
<!-- Bottom Section -->
<div class="header-bottom">
  <div class="tabs">
    <div *ngIf="pageTitle =='Dashboard'" class="d-flex">
      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'all'}" *ngIf="!isProductHub"
        (click)="setActiveTab('all')">
        <img src="images/retail_product.png" class="pr-10">ALL
      </button>

      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'web'}" *ngIf="!isProductHub"
        (click)="setActiveTab('web')">
        <img src="images/sub_product.png" class="pr-10">Web
      </button>

      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'mobile'}" *ngIf="!isProductHub"
        (click)="setActiveTab('mobile')">
        <img src="images/sub_product.png" class="pr-10">Mobile
      </button>
    </div>

    <!-- calendar -->
    <div class="date-filter-wrapper mt-24" *ngIf="pageTitle =='Dashboard'">

      <!-- Date Selector -->
      <div class="date-box" (click)="openDatePicker()">
        <mat-icon class="date-icon">calendar_today</mat-icon>
        <span class="date-text">{{ selectedDateLabel }}</span>
        <mat-icon class="arrow-icon">chevron_right</mat-icon>
      </div>

      <!-- Refresh Button -->
      <button class="refresh-btn" (click)="refresh()" *ngIf="pageTitle =='Dashboard'">
        <img src="images/refresh.png" class="pr-10">
      </button>

    </div>



    <!-- manage locators -->
    <div *ngIf="subMenuTitle == 'Manage Locators'" class="d-flex">
      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'ATM Locator'}"
        *ngIf="!isProductHub" (click)="setActiveTab('ATM Locator')" (click)="atmLocator(false)">
        <img src="images/retail_product.png" class="pr-10">ATM Locator
      </button>

      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'Branch Locator'}"
        *ngIf="!isProductHub" (click)="setActiveTab('Branch Locator')" (click)="branchLocator(true)">
        <img src="images/sub_product.png" class="pr-10">Branch Locator
      </button>
    </div>

    <!-- manage notification -->
    <div *ngIf="subMenuTitle == 'Manage Notification'" class="d-flex">
      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'Device Management'}"
        *ngIf="!isProductHub" (click)="setActiveTab('Device Management')">
        <img src="images/retail_product.png" class="pr-10">Device Management
      </button>

      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'Push Notification'}"
        *ngIf="!isProductHub" (click)="setActiveTab('Push Notification')">
        <img src="images/sub_product.png" class="pr-10">Push Notification
      </button>

      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'Message Campaign'}"
        *ngIf="!isProductHub" (click)="setActiveTab('Message Campaign')">
        <img src="images/sub_product.png" class="pr-10">Message Campaign
      </button>


      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'Customer Segments'}"
        *ngIf="!isProductHub" (click)="setActiveTab('Customer Segments')">
        <img src="images/sub_product.png" class="pr-10">Customer Segments
      </button>

      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'Template Creation'}"
        *ngIf="!isProductHub" (click)="setActiveTab('Template Creation')">
        <img src="images/sub_product.png" class="pr-10">Template Creation
      </button>
    </div>

    <!-- manage content -->
    <div *ngIf="subMenuTitle == 'Manage Content'" class="d-flex">
      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'Content Management'}"
        *ngIf="!isProductHub" (click)="setActiveTab('Content Management')">
        Content Management
      </button>

      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'CFMS Parameters'}"
        *ngIf="!isProductHub" (click)="setActiveTab('CFMS Parameters')">
        CFMS Parameters
      </button>

      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'banner'}" *ngIf="!isProductHub"
        (click)="setActiveTab('banner')">
        Banner
      </button>


      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'T&C'}" *ngIf="!isProductHub"
        (click)="setActiveTab('T&C')">
        T&C
      </button>

      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'product'}" *ngIf="!isProductHub"
        (click)="setActiveTab('product')">
        Product
      </button>

      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'databaseConfiguration'}"
        (click)="setActiveTab('databaseConfiguration')">
        Database Configuration
      </button>

      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'sub'}"
        (click)="setActiveTab('subProduct')" (click)="subProductModel(true)">
        Sub Product
      </button>

      <button class="tab-sub-product" [ngClass]="{'tab-button active': activeTab === 'sub'}"
        (click)="setActiveTab('sub')" (click)="subProductModel(true)">
        l18 Maintanence
      </button>
    </div>



    <span class="f-15" *ngIf="subMenuTitle == 'OTP Management'">Configuration List</span>

    <!-- manage License -->
    <span class="f-15" *ngIf="subMenuTitle == 'Manage License'">Manage License</span>

    <!-- manage mfa -->
    <span class="f-15" *ngIf="subMenuTitle == 'Manage MFA'">MFA List</span>
  </div>


  <div class="actions" *ngIf="isProductHub">
    <button class="retail_product " *ngIf="!subProduct" (click)="openModal()"> <img src="images/plus-mini.png">Add
      Retail Product</button>
    <button class="retail_product " *ngIf="subProduct" (click)="openSubModal()"> <img src="images/plus-mini.png">Add Sub
      Product</button>
  </div>

  <!-- admin center otp adn atm -->
  <div class="actions" *ngIf="subMenuTitle == 'OTP Management' || subMenuTitle == 'Manage Locators' || subMenuTitle == 'Manage License' || subMenuTitle == 'Manage MFA' ||
     subMenuTitle == 'Manage Notification' || subMenuTitle == 'Manage Content'"
    [ngClass]="{'w-70': subMenuTitle == 'Manage License'}">

    <button class="retail_product" (click)="openConfigurationModal()" *ngIf="subMenuTitle == 'OTP Management'"> <img
        src="images/plus-mini.png">Add Configuration</button>

    <button class="retail_product " (click)="openAtmModal()" *ngIf="subMenuTitle == 'Manage Locators' && !atmLocators">
      <img src="images/plus-mini.png">Add ATM</button>

    <button class="retail_product " (click)="openBranchModal()"
      *ngIf="subMenuTitle == 'Manage Locators' && atmLocators"> <img src="images/plus-mini.png">Add Branch</button>

    <button class="retail_product " (click)="openMfaModal()" *ngIf="subMenuTitle == 'Manage MFA'"> <img
        src="images/plus-mini.png">Add MFA</button>

    <!-- notification device management -->
    <button class="retail_product " (click)="openNotificationAddModal()"
      *ngIf="activeTab == 'Device Management' && subMenuTitle == 'Manage Notification' ">
      <img src="images/plus-mini.png">Add</button>

    <!-- notification push notification -->
    <button class="export-btn" *ngIf="activeTab == 'Push Notification' && subMenuTitle == 'Manage Notification'">
      <img src="images/import.png" class="notification_icon"><span>Export</span>
    </button>

    <!-- notification message campaign -->
    <button class="retail_product " (click)="openMessageCapaignModal()"
      *ngIf="activeTab == 'Message Campaign' && subMenuTitle == 'Manage Notification'">
      <img src="images/plus-mini.png">Message Campaign</button>

    <!-- notification customer segment -->
    <button class="retail_product " (click)="openSegmentModal()"
      *ngIf="activeTab == 'Customer Segments' && subMenuTitle == 'Manage Notification'">
      <img src="images/plus-mini.png">Add Segment</button>

    <!-- notification template creation -->
    <button class="retail_product mr-10" (click)="openTemplateCreationModal()"
      *ngIf="activeTab == 'Template Creation' && subMenuTitle == 'Manage Notification'">
      <img src="images/plus-mini.png">New Template</button>

    <button class="export-btn" *ngIf="activeTab == 'Template Creation' && subMenuTitle == 'Manage Notification'">
      <img src="images/import.png" class="notification_icon"><span>Upload Excel</span>
    </button>

    <button class="retail_product " (click)="openAddBannerModal()" *ngIf="activeTab == 'banner'">
      <img src="images/plus-mini.png">Add Banner</button>

    <button class="retail_product " (click)="openTCModal()" *ngIf="activeTab == 'T&C'">
      <img src="images/plus-mini.png">Add Terms & Conditions</button>

    <button class="retail_product " (click)="openProductModal()" *ngIf="activeTab === 'product'">
      <img src="images/plus-mini.png">Add Product</button>

    <button class="retail_product " (click)="openSubProductModal()" *ngIf="activeTab === 'subProduct'">
      <img src="images/plus-mini.png">Add Sub-Product</button>

    <button class="retail_product " (click)="openDatabaseModal()" *ngIf="activeTab === 'databaseConfiguration'">
      <img src="images/plus-mini.png">Add Database</button>

    <!-- admin center manage License filter and search bar -->
    <div class="search-wrapper" *ngIf=" subMenuTitle == 'Manage License'">
      <div class="search-box">
        <input type="text" placeholder="Search" />
        <img src="images/admin_search.png" class="notification_icon">
      </div>

      <button class="filter-btn mr-10">
        <img src="images/admin_filter.png" class="notification_icon">
      </button>
    </div>

    <button class="retail_product " (click)="openLicenseModal()" *ngIf="subMenuTitle == 'Manage License'"> <img
        src="images/plus-mini.png">Add License</button>
  </div>
</div>